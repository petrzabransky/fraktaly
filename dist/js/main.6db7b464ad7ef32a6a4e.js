(()=>{"use strict";var t,e=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getPointByAngle=function(e,n,i){return new t(Math.sin((e+n)*(3.14/180))*i+this.x,Math.cos((e+n)*(3.14/180))*i+this.y)},t}(),n=function(){function t(t){this.id=t,this.element=document.getElementById(this.id),this.canvas=this.element.querySelector(".fractal__canvas"),this.context=this.canvas.getContext("2d"),this.box=this.element.querySelector(".fractal__box"),this.inpLength=this.element.querySelector(".fractal__length"),this.inpAngle=this.element.querySelector(".fractal__angle"),this.inpRandom=this.element.querySelector(".fractal__random"),this.btnReset=this.element.querySelector(".fractal__reset"),this.init(),this.draw()}return t.prototype.setCanvasSize=function(){this.canvas.width=this.box.clientWidth,this.canvas.height=this.box.clientWidth},t.prototype.setEvents=function(){var t=this;this.inpAngle.addEventListener("input",(function(){t.draw()})),this.inpLength.addEventListener("input",(function(){t.draw()})),this.inpRandom.addEventListener("input",(function(){t.draw()})),window.addEventListener("resize",(function(){t.setCanvasSize(),t.draw()})),this.btnReset.addEventListener("click",(function(){t.setElementParameters(),t.draw()}))},t.prototype.setElementParameters=function(){this.inpAngle.min="0",this.inpAngle.max="40",this.inpAngle.value="10",this.inpLength.min="30",this.inpLength.max="90",this.inpLength.value="80",this.inpRandom.min="0",this.inpRandom.max="100",this.inpRandom.value="0"},t.prototype.init=function(){this.setCanvasSize(),this.setElementParameters(),this.setEvents()},t.prototype.randomize=function(t){var e=parseInt(this.inpRandom.value);return t*(1+(Math.random()*(2*e)-e)/100)},t.prototype.draw=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t=180,n=parseInt(this.inpAngle.value),i=this.canvas.height/20,s=(parseInt(this.inpLength.value)/10+90)/100,o=new e(30,.6*this.canvas.height);i>1;){var a=o.getPointByAngle(t,-this.randomize(n),this.randomize(i));this.context.beginPath(),this.context.strokeStyle="#fff",this.context.lineWidth=i/5,this.context.moveTo(o.x,o.y),this.context.lineTo(a.x,a.y),this.context.closePath(),this.context.stroke(),o=a,i*=s,t-=n}},t}(),i=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),s=function(t){function n(e){return t.call(this,e)||this}return i(n,t),n.prototype.setElementParameters=function(){this.inpAngle.min="0",this.inpAngle.max="90",this.inpAngle.value="30",this.inpLength.min="50",this.inpLength.max="70",this.inpLength.value="65",this.inpRandom.min="0",this.inpRandom.max="30",this.inpRandom.value="20"},n.prototype.draw=function(){var t=this,n=function(e,i,s,a){var r=e.getPointByAngle(i,s,a);t.context.beginPath(),t.context.strokeStyle="#fff",t.context.lineWidth=a/15,t.context.moveTo(e.x,e.y),t.context.lineTo(r.x,r.y),t.context.stroke(),a<1||(n(r,i+s,t.randomize(s),a*t.randomize(o)),n(r,i+s,t.randomize(-s),a*t.randomize(o)))};this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var i=parseInt(this.inpAngle.value),s=this.canvas.height/6,o=parseInt(this.inpLength.value)/100,a=new e(this.canvas.width/2,.9*this.canvas.height),r=a.getPointByAngle(180,0,s);this.context.beginPath(),this.context.strokeStyle="#fff",this.context.lineWidth=s/15,this.context.moveTo(a.x,a.y),this.context.lineTo(r.x,r.y),this.context.stroke(),n(a=r,180,this.randomize(i),this.randomize(s)),n(a,180,this.randomize(-i),this.randomize(s))},n}(n);document.querySelector(".nav__hamburger").addEventListener("click",(function(){var t=document.querySelector(".nav__menu"),e=document.querySelector(".nav__hamburger");t.classList.contains("nav__menu--active")?(t.classList.remove("nav__menu--active"),e.setAttribute("src","./img/ikony/hamburger.svg")):(t.classList.add("nav__menu--active"),e.setAttribute("src","./img/ikony/zavrit.svg"))})),new n("spiral"),new s("tree")})();